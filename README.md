<?xml version="1.0" encoding="UTF-8"?>
<svg width="241px" height="71px" viewBox="0 0 241 71" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <desc></desc>
    <defs></defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="e.on-logo" fill="#EA1D09">
            <path d="M133.6201,54.8958 C137.3971,50.9608 140.6561,33.1318 140.6561,29.9128 C140.6561,27.6238 140.4921,26.8298 136.1811,26.8298 C134.4771,26.8298 131.9431,27.0948 130.7961,28.6828 C126.4971,34.6358 123.6471,49.5208 123.6471,53.6598 C123.6471,56.4868 125.6121,56.3068 128.2361,56.3068 C129.7641,56.3068 132.2281,56.3458 133.6201,54.8958 Z M141.9161,13.4148 C152.0421,13.4148 164.5981,15.0038 164.5981,26.0358 C164.5981,32.8308 157.8891,47.7498 155.7331,51.8948 C146.7211,69.2228 134.6811,69.1048 121.0871,69.1048 C114.4451,69.1048 99.6411,69.1818 99.6411,56.7488 C99.6411,51.1878 104.4871,40.9958 108.4671,31.3318 C110.1601,27.2218 117.3691,13.4148 141.9161,13.4148 Z" id="Fill-1"></path>
            <path d="M30.1836,31.7718 C31.6146,30.3408 45.8886,17.9158 54.0126,17.9158 C56.5096,17.9158 56.6606,22.4898 56.6606,25.6828 C56.6606,31.6538 56.0736,32.7428 49.6006,32.7428 L31.3306,32.7428 C29.9166,32.7428 29.1246,32.8318 30.1836,31.7718 M25.7706,45.8048 C25.7706,45.8048 40.8686,46.2468 48.3646,46.2468 L55.8666,46.2468 C66.5426,46.2468 76.1646,43.0028 76.1646,27.3588 C76.1646,20.0368 74.4496,-0.0002 61.8686,-0.0002 C47.8976,-0.0002 -0.0004,18.6928 -0.0004,43.5108 C-0.0004,58.3208 20.3686,70.6048 42.9806,70.6048 C57.9996,70.6048 75.9006,61.9048 75.9006,56.3958 C75.9006,53.5708 68.5916,52.7778 63.6326,52.7778 C58.5256,52.7778 50.5706,53.6948 50.5706,53.6948 C49.6006,54.7188 45.1386,59.0438 38.2146,59.0438 C29.4236,59.0438 23.6526,51.3478 23.6526,46.2468 C23.6526,45.5398 24.5586,45.7808 25.7706,45.8048" id="Fill-3"></path>
            <path d="M91.875,31.8607 C88.008,31.8607 84.091,32.4057 81.902,37.4217 C81.666,37.9637 79.872,41.6437 79.872,43.7757 C79.872,46.5307 81.542,48.2767 86.403,48.2767 C89.644,48.2767 94.246,47.5747 96.001,43.2447 C96.278,42.5637 98.23,37.9497 98.23,36.2737 C98.23,33.2247 95.153,31.8607 91.875,31.8607" id="Fill-6"></path>
            <path d="M222.1914,36.8094 C222.1914,40.8654 215.5504,59.6394 213.8014,64.8524 C213.5034,65.7404 213.9434,66.3454 214.2974,66.6274 C216.0084,67.9964 219.5174,69.1054 224.1714,69.1054 C226.7434,69.1054 228.7274,68.7194 229.7634,65.9934 C231.3394,61.8444 240.9454,34.1994 240.9454,26.1254 C240.9454,21.3144 238.6704,15.0914 228.5844,15.0914 C217.1114,15.0914 204.1364,27.3584 196.9894,27.3584 C192.7534,27.3584 192.6084,22.8584 192.6084,21.5354 C192.6084,18.4704 192.5934,18.4984 192.5934,18.4984 C190.7674,17.5184 187.1254,17.3854 185.2514,17.3854 C182.6954,17.3854 180.8604,17.8124 180.3004,17.9004 C179.0964,18.0884 178.8654,18.5314 178.6304,19.0624 C173.0844,31.6524 165.0844,54.8824 163.5394,61.1614 L162.6954,64.5934 C162.3974,65.8044 162.4464,66.3784 163.4504,66.8984 C163.7724,67.0654 167.1574,68.7514 170.3354,68.7514 C172.9034,68.7514 175.1014,68.3984 176.6014,66.7224 C181.1864,61.5964 205.8784,32.9194 219.3174,32.9194 C221.5344,32.9194 222.1914,34.5884 222.1914,36.8094" id="Fill-8"></path>
        </g>
    </g>
</svg>

![logo-main](https://github.com/user-attachments/assets/5841ec01-81c9-4c25-8373-b09d9ba11fe6)

# E-ON RomÃ¢nia - Integrare pentru Home Assistant ğŸ ğŸ‡·ğŸ‡´

AceastÄƒ integrare pentru Home Assistant oferÄƒ **monitorizare completÄƒ** a datelor contractuale È™i a indexurilor de consum pentru utilizatorii E-ON RomÃ¢nia. Integrarea este configurabilÄƒ prin interfaÈ›a UI È™i permite afiÈ™area datelor despre contract, citirea indexurilor curente È™i arhivarea datelor istorice. ğŸš€

## ğŸŒŸ Caracteristici

### Senzor `Date contract`:
  - **ğŸ” Monitorizare GeneralÄƒ**:
      - AfiÈ™eazÄƒ informaÈ›ii detaliate despre contractul de furnizare energie.
  - **ğŸ“Š Atribute disponibile**:
      - **Cod Ã®ncasare**: Codul unic al contractului.
      - **Cod loc de consum (NLC)**: Identificatorul locaÈ›iei de consum.
      - **CLC - Cod punct de mÄƒsurÄƒ**: Codul unic al punctului de mÄƒsurare.
      - **Operator de DistribuÈ›ie (OD)**: Numele operatorului de distribuÈ›ie.
      - **PreÈ›uri detaliate**:
        - **PreÈ› final (fÄƒrÄƒ TVA)**: Valoarea finalÄƒ fÄƒrÄƒ TVA.
        - **PreÈ› final (cu TVA)**: Valoarea finalÄƒ inclusiv TVA.
        - **PreÈ› furnizare**: Costul pentru furnizarea energiei.
        - **Tarif reglementat distribuÈ›ie**: Costul distribuÈ›iei energiei.
        - **Tarif reglementat transport**: Costul transportului energiei.
      - **PCS (PotenÈ›ial caloric superior)**: Valoarea caloricÄƒ superioarÄƒ a energiei.
      - **AdresÄƒ consum**: Adresa locaÈ›iei de consum.
      - **Verificare instalaÈ›ie**: Data urmÄƒtoarei verificÄƒri tehnice a instalaÈ›iei.
      - **Data iniÈ›ierii reviziei**: Data la care Ã®ncepe urmÄƒtoarea revizie tehnicÄƒ.
      - **Revizie tehnicÄƒ**: Data expirÄƒrii urmÄƒtoarei revizii tehnice.

### Senzor `Index Curent`:
  - **ğŸ” Monitorizare Date Index**:
      - AfiÈ™eazÄƒ informaÈ›ii detaliate despre indexul curent al contorului.
  - **ğŸ“Š Atribute disponibile**:
      - **NumÄƒrul dispozitivului**: ID-ul dispozitivului asociat contorului.
      - **Data de Ã®nceput a citirii**: Data de Ã®nceput a perioadei de citire.
      - **Data de final a citirii**: Data de final a perioadei de citire.
      - **Citirea contorului permisÄƒ**: IndicÄƒ dacÄƒ citirea poate fi realizatÄƒ Ã®n perioada curentÄƒ.
      - **Permite modificarea citirii**: IndicÄƒ dacÄƒ indexul citit poate fi modificat.
      - **Dispozitiv inteligent**: SpecificÄƒ dacÄƒ dispozitivul este un contor inteligent.
      - **Tipul citirii curente**: Tipul citirii efectuate (de exemplu, autocitire).
      - **Citire anterioarÄƒ**: Valoarea minimÄƒ a citirii anterioare.
      - **Ultima citire validatÄƒ**: Ultima valoare validatÄƒ a citirii.
      - **Index propus pentru facturare**: Valoarea indexului propus pentru facturare.
      - **Trimis la**: Data È™i ora la care a fost transmisÄƒ ultima citire.
      - **Poate fi modificat pÃ¢nÄƒ la**: Data È™i ora pÃ¢nÄƒ la care citirea poate fi modificatÄƒ.

### Senzor `ArhivÄƒ`:
- **ğŸ“š Date Istorice**:
  - AfiÈ™eazÄƒ indexurile lunare pentru fiecare an disponibil.
- **ğŸ“Š Atribute disponibile**:
  - **An**: Anul pentru care se afiÈ™eazÄƒ datele.
  - **Indexuri lunare**: Indexurile consumului pentru fiecare lunÄƒ.

---

## âš™ï¸ Configurare

### ğŸ› ï¸ InterfaÈ›a UI:
1. AdaugÄƒ integrarea din meniul **SetÄƒri > Dispozitive È™i Servicii > AdaugÄƒ Integrare**.
2. Introdu datele contului E-ON:
   - **Nume utilizator**: username-ul contului tÄƒu E-ON.
   - **ParolÄƒ**: parola asociatÄƒ contului tÄƒu.
   - ~~**Cod Ã®ncasare**: dacÄƒ codul este format din 10 cifre, de exemplu `2100023241`, trebuie sÄƒ adaugi douÄƒ zerouri la Ã®nceput. Rezultatul final ar trebui sÄƒ fie `002100023241`.~~
   - **Cod Ã®ncasare**: Se gÄƒseÈ™te pe factura ta
     - Nu mai este nevoie sÄƒ introduci manual 00 Ã®naintea codului de Ã®ncasare! DacÄƒ codul tÄƒu este format din 10 cifre (de exemplu `2100023241`), funcÈ›ia de corectare implementatÄƒ va adÄƒuga automat douÄƒ zerouri la Ã®nceput. Rezultatul final va deveni `002100023241`, astfel Ã®ncÃ¢t autentificarea sÄƒ fie corectÄƒ È™i fÄƒrÄƒ erori.
3. SpecificÄƒ intervalul de actualizare (implicit: 3600 secunde).

### ObservaÈ›ii:
- VerificÄƒ datele de autentificare Ã®nainte de salvare.
- AsigurÄƒ-te cÄƒ formatul codului de Ã®ncasare este corect pentru a evita problemele de conectare.

---

## ğŸš€ Instalare

### ğŸ’¡ Instalare prin HACS:
1. AdaugÄƒ [depozitul personalizat](https://github.com/cnecrea/eonromania) Ã®n HACS. ğŸ› ï¸
2. CautÄƒ integrarea **E-ON RomÃ¢nia** È™i instaleaz-o. âœ…
3. ReporneÈ™te Home Assistant È™i configureazÄƒ integrarea. ğŸ”„

### âœ‹ Instalare manualÄƒ:
1. CloneazÄƒ sau descarcÄƒ [depozitul GitHub](https://github.com/cnecrea/eonromania). ğŸ“‚
2. CopiazÄƒ folderul `custom_components/eonromania` Ã®n directorul `custom_components` al Home Assistant. ğŸ—‚ï¸
3. ReporneÈ™te Home Assistant È™i configureazÄƒ integrarea. ğŸ”§

---

## âœ¨ Exemple de utilizare

### ğŸ”” Automatizare pentru Index:
CreeazÄƒ o automatizare pentru a primi notificÄƒri cÃ¢nd indexul curent depÄƒÈ™eÈ™te o valoare specificatÄƒ.

```yaml
alias: Notificare Index Ridicat
description: Notificare dacÄƒ indexul depÄƒÈ™eÈ™te 1000
trigger:
  - platform: numeric_state
    entity_id: sensor.index_curent_002222257503939227
    above: 1000
action:
  - service: notify.mobile_app_your_phone
    data:
      title: "Index Ridicat Detectat! âš¡"
      message: "Indexul curent este {{ states('sensor.index_curent_002222257503939227') }}."
mode: single
```

### ğŸ” Card pentru Dashboard:
AfiÈ™eazÄƒ datele despre contract, indexuri È™i arhivÄƒ pe interfaÈ›a Home Assistant.

```yaml
type: entities
title: Monitorizare E-ON RomÃ¢nia
entities:
  - entity: sensor.date_contract
    name: Date Contract
  - entity: sensor.index_curent_002222257503939227
    name: Index Curent
  - entity: sensor.arhiva_2024
    name: ArhivÄƒ 2024
```

---

## ğŸ§‘â€ğŸ’» ContribuÈ›ii

ContribuÈ›iile sunt binevenite! Simte-te liber sÄƒ trimiÈ›i un pull request sau sÄƒ raportezi probleme [aici](https://github.com/cnecrea/eonromania/issues).

---

## ğŸŒŸ Suport
DacÄƒ Ã®È›i place aceastÄƒ integrare, oferÄƒ-i un â­ pe [GitHub](https://github.com/cnecrea/eonromania/)! ğŸ˜Š
